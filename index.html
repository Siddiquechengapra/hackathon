<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Github things</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div id="basecont" class=" bg-warning">
    <h3 class="display-4 font-weight-bold d-flex justify-content-center text-capitalize">Search for Medium post by @username</h3>
    <br>
    <br>
    <div id="buttondiv" class="d-flex justify-content-center pb-5">
        <button id="button1" class="btn btn-success">Click me for posts</button>
        
        <input class= "" type="text" id="inptag" placeholder="garyvee,ev etc">
         </div>
    </div>
    
<div>
    <div id="div1" class="bg bg-light container">

    </div>
</div>
    

    <script>
        var btn1=document.getElementById("button1")
        btn1.addEventListener("click",find)
        var divv=document.getElementById("div1")
        let inpname=document.getElementById("inptag").value
        clear();
        
        async function find(){
            clear();
            
            let inpname=document.getElementById("inptag").value
            var url="https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@"+inpname
            var response =await fetch(url)
            var result=await response.json()
            console.log(result)
            var data=result.items
            let filtered=data.filter(item=>{
               return  item.categories.length > 0
            })
            console.log(data)
            console.log(filtered)
            filtered.forEach(item => {
            
            let pic=document.createElement("img")
            pic.src=item.thumbnail
            let x=document.createElement("h3")
            x.classList.add("display-4")
            x.classList.add("container")
            // x.classList.add("text-truncate")
        
            let y=document.createTextNode(item.title)
            
            let a=document.createElement("div")
            a.innerHTML=item.description
            let b=document.createElement("br")
            x.appendChild(y)
            x.appendChild(b)
            x.appendChild(b)
            x.appendChild(a)
            
            divv.appendChild(x)
            divv.appendChild(pic)
            divv.appendChild(b)
            divv.appendChild(b)

                
            });
    
            
        }
        function clear(){
            while(divv.firstChild)
                  divv.removeChild(divv.firstChild)
        }

    </script>
</body>
</html>